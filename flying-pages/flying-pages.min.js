function flyingPages(a={}){const b=new Set,c=new Set,d=document.createElement("link"),e=d.relList&&d.relList.supports&&d.relList.supports("prefetch")&&window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype,f=navigator.connection&&(navigator.connection.saveData||(navigator.connection.effectiveType||"").includes("2g"));if(f||!e)return;const g=a=>new Promise((b,c)=>{const d=document.createElement(`link`);d.rel=`prefetch`,d.href=a,d.onload=b,d.onerror=c,document.head.appendChild(d)}),h=a=>{const b=setTimeout(()=>p(),5e3);g(a).catch(()=>p()).finally(()=>clearTimeout(b))},i=(a,d=!1)=>{if(!(c.has(a)||b.has(a))){const e=window.location.origin;if(a.substring(0,e.length)===e&&window.location.href!==a){for(let b=0;b<window.FPConfig.ignoreKeywords.length;b++)if(a.includes(window.FPConfig.ignoreKeywords[b]))return;d?(h(a),c.add(a)):b.add(a)}}},j=new IntersectionObserver(a=>{a.forEach(a=>{if(a.isIntersecting){const b=a.target.href;i(b,!window.FPConfig.maxRPS)}})});let k=null;const l=a=>{const b=a.target.closest("a");b&&b.href&&!c.has(b.href)&&(k=setTimeout(()=>{i(b.href,!0)},window.FPConfig.hoverDelay))},m=a=>{const b=a.target.closest("a");b&&b.href&&!c.has(b.href)&&i(b.href,!0)},n=a=>{const b=a.target.closest("a");b&&b.href&&!c.has(b.href)&&clearTimeout(k)},o=window.requestIdleCallback||function(a){const b=Date.now();return setTimeout(function(){a({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-b))}})},1)},p=()=>{document.querySelectorAll("a").forEach(a=>j.unobserve(a)),b.clear(),document.removeEventListener("mouseover",l,!0),document.removeEventListener("mouseout",n,!0),document.removeEventListener("touchstart",m,!0)};window.FPConfig=Object.assign({delay:0,ignoreKeywords:[],maxRPS:3,hoverDelay:50},a),(()=>setInterval(()=>{Array.from(b).slice(0,window.FPConfig.maxRPS).forEach(a=>{h(a),c.add(a),b.delete(a)})},1e3))(),o(()=>setTimeout(()=>document.querySelectorAll("a").forEach(a=>j.observe(a)),1e3*window.FPConfig.delay));const q={capture:!0,passive:!0};document.addEventListener("mouseover",l,q),document.addEventListener("mouseout",n,q),document.addEventListener("touchstart",m,q)}